(window["webpackJsonphacker-news"]=window["webpackJsonphacker-news"]||[]).push([[4],{49:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var s=a(46),n=a(47),c=a(50),r=a(48),o=a(51),l=a(0),i=a.n(l),h=a(18),u=a(52),m=a(57),p=function(e){return i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"logo"},"H"),i.a.createElement("div",{className:"search-label-container"},i.a.createElement("label",{className:"search-label"}," Search"),i.a.createElement("label",{className:"search-label"}," Hacker News")),i.a.createElement("div",{className:"header-content"},i.a.createElement("input",{className:"search-text-input",type:"text",placeholder:"Search stories by title, url or author",onChange:function(t){console.log("RETERT :",t),e.onSearchText(t.target.value)}}),i.a.createElement("button",{className:"search-button"},i.a.createElement(u.a,{icon:m.a,color:"#ff742b",size:"1x"}))))},f="https://hn.algolia.com/api",d={newsItems:{getStoriesList:"".concat(f,"/v1/items")},search:{searchResults:"".concat(f,"/v1/search")}},E=a(11),b=function(e){return{type:E.c,msg:e}},y=function(e){return{payload:e,type:E.b}},v=function(e){return{payload:e,type:E.a}},g=(a(49),function(e){var t=e.story,a=e.story.title,s=document.getElementsByClassName("storyTitle".concat(e.story.id));if(e.searchText&&e.searchText.length>0&&a&&a.includes(e.searchText)){if(s){for(var n=new RegExp(e.searchText,"gi"),c=a.match(n),r="",o=c.length,l=0;l<o;l++)r=a.replace(c[l],'<em class="em">'.concat(c[l],"</em>"));s.innerHTML=r}}else s&&(s.innerHTML=a);return i.a.createElement("article",{className:"story"},i.a.createElement("div",{className:"story-container"},i.a.createElement("div",{className:"story-data"},i.a.createElement("div",{className:"story-title"},i.a.createElement("a",{href:"https://news.ycombinator.com/item?id=16582136"},i.a.createElement("span",{className:"storyTitle".concat(t.id)},t.title?t.title:" No Title Found")),i.a.createElement("a",{href:"http://www.bbc.com/news/uk-43396008",target:"_blank",className:"story-link"},"(http://www.bbc.com/news/uk-43396008)")),i.a.createElement("div",{className:"story-meta"},i.a.createElement("span",null,i.a.createElement("a",{href:"https://news.ycombinator.com/item?id=16582136"},t.points," points")),",",i.a.createElement("span",{className:"story-separator"},"|"),i.a.createElement("span",null,i.a.createElement("a",{href:"https://news.ycombinator.com/user?id=Cogito"},i.a.createElement("span",null,t.author))),i.a.createElement("span",{className:"story-separator"},"|"),i.a.createElement("span",null,i.a.createElement("a",{href:"https://news.ycombinator.com/item?id=16582136"},"2 years ago")),i.a.createElement("span",{className:"story-separator"},"|"),i.a.createElement("span",null,i.a.createElement("a",{href:"https://news.ycombinator.com/item?id=16582136"},t.children?t.children.length:t.num_comments," comments"))))))}),S=function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(r.a)(t).call(this,e))}return Object(o.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){if(!this.props.isSearch)for(var e=0;e<20;e++)this.props.getStoriesList(e+1)}},{key:"render",value:function(){var e=this,t=this.props.isSearch?this.props.searchResults:this.props.storiesList;return console.log("Serach :",t),i.a.createElement("div",{className:"module_container"},t&&t.length>0&&t.map((function(t,a){return i.a.createElement(g,{story:t,searchText:e.props.searchText})})))}}]),t}(l.Component),N=Object(h.b)((function(e){return{storiesList:e.storiesListReducer&&e.storiesListReducer.storiesList}}),{getStoriesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){fetch("".concat(d.newsItems.getStoriesList,"/").concat(e)).then((function(e){200===e.status&&e.json().then((function(e){t(y(e))}))})).catch((function(e){t(b(e))}))}}})(S),w=function(e){return console.log("sdfdsadfsd",e.searchResults),i.a.createElement("div",{className:"content"},i.a.createElement(N,{isSearch:e.isSearch,searchText:e.searchText,searchResults:e.searchResults}))},R=function(e){return i.a.createElement("div",{className:"footer"},i.a.createElement("label",null,"@copyright"))},T=a(17),x={redirect:function(e,t){T.a.push(e,t)},STORIES_LIST:"/stories-list"},L=(a(58),a(59),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(r.a)(t).call(this,e))).onSearchText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"story";e.length>0?(a.props.getSearchResults(e,t),a.setState({searchText:e})):a.setState({isSearch:!1,searchText:"",searchResults:null})},a.state={currentPage:T.a.location.pathname},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.searchResults!==e.searchResults&&this.setState({isSearch:!0,searchResults:e.searchResults.hits})}},{key:"render",value:function(){return i.a.createElement("div",{className:"shell"},i.a.createElement(p,{cartItems:this.props.cartItems,onSearchText:this.onSearchText,showCart:this.state.currentPage.match(x.SHOPPING_LIST)}),i.a.createElement("div",{className:"main_content"},i.a.createElement(w,{searchResults:this.state.searchResults,isSearch:this.state.isSearch,searchText:this.state.searchText})),i.a.createElement(R,null))}}]),t}(l.Component));t.default=Object(h.b)((function(e){return{searchResults:e.storiesListReducer&&e.storiesListReducer.searchResults}}),{getSearchResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"story";return function(a){fetch("".concat(d.search.searchResults,"?query=").concat(e,"&tags=").concat(t)).then((function(e){200===e.status&&e.json().then((function(e){a(v(e))}))})).catch((function(e){a(b(e))}))}}})(L)}}]);
//# sourceMappingURL=4.6d19512a.chunk.js.map