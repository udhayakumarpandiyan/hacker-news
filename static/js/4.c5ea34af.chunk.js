(window["webpackJsonphacker-news"]=window["webpackJsonphacker-news"]||[]).push([[4],{48:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var s=a(45),n=a(46),r=a(49),c=a(47),l=a(50),o=a(0),i=a.n(o),h=a(18),u=a(51),m=a(56),p=function(e){return i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"logo"},"H"),i.a.createElement("div",{className:"search-label-container"},i.a.createElement("label",{className:"search-label"}," Search"),i.a.createElement("label",{className:"search-label"}," Hacker News")),i.a.createElement("div",{className:"header-content"},i.a.createElement("input",{className:"search-text-input",type:"text",placeholder:"Search stories by title, url or author",onChange:function(t){console.log("RETERT :",t),e.onSearchText(t.target.value)}}),i.a.createElement("button",{className:"search-button"},i.a.createElement(u.a,{icon:m.a,color:"#ff742b",size:"1x"}))))},d="https://hn.algolia.com/api",f={newsItems:{getStoriesList:"".concat(d,"/v1/items")},search:{searchResults:"".concat(d,"/v1/search")}},E=a(11),b=function(e){return{type:E.c,msg:e}},g=function(e){return{payload:e,type:E.b}},y=function(e){return{payload:e,type:E.a}},v=(a(48),function(e){var t=e.story,a=e.story.title,s=document.getElementById("storyTitle");if(e.searchText&&e.searchText.length>0&&a&&a.includes(e.searchText)){if(s){for(var n=new RegExp(e.searchText,"gi"),r=a.match(n),c="",l=r.length,o=0;o<l;o++)c=a.replace(r[o],'<em class="em">'.concat(r[o],"</em>"));var h=document.createElement("p");h.innerHTML=c,s.parentNode&&s.parentNode.replaceChild(h,s),console.log("P",s.parentNode)}}else s&&(s.innerHTML=a);return i.a.createElement("article",{className:"story"},i.a.createElement("div",{className:"story-container"},i.a.createElement("div",{className:"story-data"},i.a.createElement("div",{className:"story-title"},i.a.createElement("a",{href:"https://news.ycombinator.com/item?id=16582136",target:"_blank"},i.a.createElement("span",{id:"storyTitle"},t.title?t.title:" No Title Found")),i.a.createElement("a",{href:"http://www.bbc.com/news/uk-43396008",target:"_blank",className:"story-link"},"(http://www.bbc.com/news/uk-43396008)")),i.a.createElement("div",{className:"story-meta"},i.a.createElement("span",null,i.a.createElement("a",{href:"https://news.ycombinator.com/item?id=16582136",target:"_blank"},t.points," points")),",",i.a.createElement("span",{className:"story-separator"},"|"),i.a.createElement("span",null,i.a.createElement("a",{href:"https://news.ycombinator.com/user?id=Cogito",target:"_blank"},i.a.createElement("span",null,t.author))),i.a.createElement("span",{className:"story-separator"},"|"),i.a.createElement("span",null,i.a.createElement("a",{href:"https://news.ycombinator.com/item?id=16582136",target:"_blank"},"2 years ago")),i.a.createElement("span",{className:"story-separator"},"|"),i.a.createElement("span",null,i.a.createElement("a",{href:"https://news.ycombinator.com/item?id=16582136",target:"_blank"},t.children?t.children.length:t.num_comments," comments"))))))}),N=function(e){function t(e){return Object(s.a)(this,t),Object(r.a)(this,Object(c.a)(t).call(this,e))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.props.getStoriesList(1)}},{key:"render",value:function(){var e=this,t=this.props.isSearch?this.props.searchResults:this.props.storiesList;return i.a.createElement("div",{className:"module_container"},t&&t.length>0&&t.map((function(t,a){return i.a.createElement(v,{story:t,searchText:e.props.searchText})})))}}]),t}(o.Component),S=Object(h.b)((function(e){return{storiesList:e.storiesListReducer&&e.storiesListReducer.storiesList}}),{getStoriesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){fetch("".concat(f.newsItems.getStoriesList,"/").concat(e)).then((function(e){200===e.status&&e.json().then((function(e){t(g(e))}))})).catch((function(e){t(b(e))}))}}})(N),T=function(e){return console.log("sdfdsadfsd",e.searchResults),i.a.createElement("div",{className:"content"},i.a.createElement(S,{isSearch:e.isSearch,searchText:e.searchText,searchResults:e.searchResults}))},w=function(e){return i.a.createElement("div",{className:"footer"},i.a.createElement("label",null,"@copyright"))},R=a(17),x={redirect:function(e,t){R.a.push(e,t)},STORIES_LIST:"/stories-list"},k=(a(57),a(58),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).onSearchText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"story";e.length>0?(a.props.getSearchResults(e,t),a.setState({searchText:e})):a.setState({isSearch:!1,searchText:null,searchResults:null})},a.state={currentPage:R.a.location.pathname},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.searchResults!==e.searchResults&&this.state.searchText&&this.setState({isSearch:!0,searchResults:e.searchResults.hits})}},{key:"render",value:function(){return i.a.createElement("div",{className:"shell"},i.a.createElement(p,{cartItems:this.props.cartItems,onSearchText:this.onSearchText,showCart:this.state.currentPage.match(x.SHOPPING_LIST)}),i.a.createElement("div",{className:"main_content"},i.a.createElement(T,{searchResults:this.state.searchResults,isSearch:this.state.isSearch,searchText:this.state.searchText})),i.a.createElement(w,null))}}]),t}(o.Component));t.default=Object(h.b)((function(e){return{searchResults:e.storiesListReducer&&e.storiesListReducer.searchResults}}),{getSearchResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"story";return function(a){fetch("".concat(f.search.searchResults,"?query=").concat(e,"&tags=").concat(t)).then((function(e){200===e.status&&e.json().then((function(e){a(y(e))}))})).catch((function(e){a(b(e))}))}}})(k)}}]);
//# sourceMappingURL=4.c5ea34af.chunk.js.map