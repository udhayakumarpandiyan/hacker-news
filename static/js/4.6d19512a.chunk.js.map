{"version":3,"sources":["shell/components/Header.js","config.js","store/actions/StoriesListAction.js","modules/stories/components/Story.js","modules/stories/containers/StoriesList.js","shell/components/Content.js","shell/components/Footer.js","route/index.js","shell/containers/Shell.js"],"names":["Header","props","className","type","placeholder","onChange","event","console","log","onSearchText","target","value","icon","faSearch","color","size","MAIN_URL","API","newsItems","getStoriesList","search","searchResults","onFail","msg","TYPES","onGetNewsItemsSuccess","payload","onGetSearchResultsSuccess","Story","story","storyTitle","title","link","document","getElementsByClassName","id","searchText","length","includes","regEx","RegExp","result","match","modifiedTitle","resultLength","i","replace","innerHTML","href","points","author","children","num_comments","StoriesList","this","isSearch","stories","storiesList","map","index","Component","connect","state","storiesListReducer","dispatch","fetch","then","response","status","json","data","catch","err","MainContent","Footer","redirect","path","history","push","STORIES_LIST","Shell","text","tag","getSearchResults","setState","currentPage","location","pathname","nextProps","hits","cartItems","showCart","RoutePath","SHOPPING_LIST","tags"],"mappings":"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","file":"static/js/4.6d19512a.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\n\nconst Header = (props) => {\n\n    const searchText = (event) =>{\n        console.log(\"RETERT :\", event)\n        props.onSearchText(event.target.value);\n    }\n    return (\n        <div className=\"header\">\n            {/* <img src={AppLogo} /> */}\n            {/* not able to find any suitable icon so making this with div */}\n            <div className=\"logo\">\n                H\n            </div>\n            \n            <div className=\"search-label-container\">\n                <label className=\"search-label\"> Search\n            </label>\n                <label className=\"search-label\"> Hacker News\n            </label>\n            </div>\n\n            <div className=\"header-content\">\n                <input className=\"search-text-input\" \n                type=\"text\" \n                placeholder=\"Search stories by title, url or author\" \n                onChange={searchText}/>\n\n                <button className=\"search-button\">\n                    <FontAwesomeIcon icon={faSearch} color=\"#ff742b\" size=\"1x\" />\n                </button>\n\n            </div>\n\n        </div>\n    )\n}\nexport default Header;","export const MAIN_URL = \"https://hn.algolia.com/api\";\n\nexport const API = {\n  newsItems: {\n    getStoriesList: `${MAIN_URL}/v1/items`,\n  },\n  search:{\n    searchResults : `${MAIN_URL}/v1/search`,\n  }\n};\n","import * as TYPES from '../types';\nimport { API } from '../../config';\n\nconst onFail = msg => ({\n    type: TYPES.ON_ERROR,\n    msg\n});\n\nconst onGetNewsItemsSuccess = payload => {\n    return {\n        payload,\n        type: TYPES.GET_STORIES_LIST,\n    };\n};\n\nconst onGetSearchResultsSuccess = payload => {\n    return {\n        payload,\n        type: TYPES.GET_SEARCH_RESULTS,\n    };\n};\n\nexport const getStoriesList = (id = 1) => {\n    \n    return (dispatch) => {\n\n        fetch(`${API.newsItems.getStoriesList}/${id}`\n        )\n            .then(\n                function (response) {\n                    if (response.status !== 200) {\n                        return;\n                    }\n                    response.json().then(function (data) {\n                        dispatch(onGetNewsItemsSuccess(data));\n                    });\n                }\n            )\n            .catch(function (err) {\n                dispatch(onFail(err));\n            });\n    };\n\n}\n\nexport const getSearchResults = (text = '', tags='story') => {\n    \n    return (dispatch) => {\n\n        fetch(`${API.search.searchResults}?query=${text}&tags=${tags}`)\n            .then(\n                function (response) {\n                    if (response.status !== 200) {\n                        return;\n                    }\n                    response.json().then(function (data) {\n                        dispatch(onGetSearchResultsSuccess(data));\n                    });\n                }\n            )\n            .catch(function (err) {\n                dispatch(onFail(err));\n            });\n    };\n\n}\n\n","import React, { useState } from 'react';\nimport '../styles/index.scss';\n\nconst Story = (props) => {\n    let story = props.story;\n    let storyTitle = props.story.title;\n    let link = document.getElementsByClassName(`storyTitle${props.story.id}`);\n    if (props.searchText && props.searchText.length > 0 && storyTitle && storyTitle.includes(props.searchText)) {\n        if (link) {\n                let regEx = new RegExp(props.searchText, \"gi\");\n                let result  = storyTitle.match(regEx);\n                let modifiedTitle = '';\n                let resultLength = result.length;\n                for (let i =0 ; i< resultLength; i++)\n                {\n                    modifiedTitle = storyTitle.replace(result[i],`<em class=\"em\">${result[i]}</em>`)\n\n                }\n                link.innerHTML = modifiedTitle;\n            }\n    }\n\n    else if(link){\n        link.innerHTML = storyTitle;\n    }\n\n    return (\n        <article className=\"story\">\n            <div className=\"story-container\">\n                <div className=\"story-data\">\n                    <div className=\"story-title\">\n                        <a href=\"https://news.ycombinator.com/item?id=16582136\">\n                            <span className={`storyTitle${story.id}`}>{story.title ? story.title : \" No Title Found\"}</span>\n                        </a>\n                        <a href=\"http://www.bbc.com/news/uk-43396008\" target=\"_blank\" className=\"story-link\">(http://www.bbc.com/news/uk-43396008)</a>\n                    </div>\n                    <div className=\"story-meta\">\n                        <span>\n                            <a href=\"https://news.ycombinator.com/item?id=16582136\">{story.points} points</a>\n                        </span>\n                        ,<span className=\"story-separator\">|</span>\n                        <span>\n                            <a href=\"https://news.ycombinator.com/user?id=Cogito\">\n                                <span>{story.author}</span>\n                            </a>\n                        </span>\n                        <span className=\"story-separator\">|</span>\n                        <span><a href=\"https://news.ycombinator.com/item?id=16582136\">2 years ago</a>\n                        </span>\n                        <span className=\"story-separator\">|</span>\n                        <span>\n                            <a href=\"https://news.ycombinator.com/item?id=16582136\">{story.children ? story.children.length : story.num_comments} comments</a>\n                        </span>\n                    </div>\n                </div>\n            </div>\n        </article>\n    )\n}\nexport default Story;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { API } from '../../../config';\n\nimport { getStoriesList } from '../../../store/actions/StoriesListAction';\n\nimport '../styles/index.scss';\nimport Story from '../components/Story';\n\n\nclass StoriesList extends Component {\n    constructor(props) {\n        super(props);\n    }\n    componentDidMount() {\n\n        if (!this.props.isSearch) {\n            for (let i = 0; i < 20; i++) {\n                this.props.getStoriesList(i + 1);\n            }\n        }\n\n    }\n\n    // constructRequestData = () => {\n    //     let request = {\n    //         requests: []\n    //     };\n\n    //     for (let i = 0; i < 20; i++) {\n    //         request.requests.push(\n    //             {\n    //                 id: i + 1,\n    //                 method: \"GET\",\n    //                 url: `${API.newsItems.getStoriesList}${i + 1}`\n    //             }\n    //         );\n    //     }\n\n\n    //     return request;\n    // }\n\n\n    render() {\n        let stories = this.props.isSearch ? this.props.searchResults : this.props.storiesList;\n        console.log(\"Serach :\", stories);\n        return (\n            <div className=\"module_container\">\n                {stories && stories.length > 0 &&\n                    stories.map((story, index) => {\n                        return (\n                            <Story story={story} searchText={this.props.searchText}/>\n                        )\n                    })\n                }\n\n            </div >\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        storiesList: state.storiesListReducer && state.storiesListReducer.storiesList,\n    }\n}\nexport default connect(mapStateToProps, { getStoriesList })(StoriesList);\n","import React from 'react';\nimport StoriesList from '../../modules/stories/containers/StoriesList';\n\nconst MainContent = (props) => {\n\n    console.log(\"sdfdsadfsd\", props.searchResults);\n    return (<div className=\"content\">\n        <StoriesList isSearch={props.isSearch}\n            searchText={props.searchText}\n            searchResults={props.searchResults} />\n    </div>)\n}\n\n\nexport default MainContent;\n\n","import React from 'react';\n\nconst Footer = (props) => {\n    return (\n        <div className=\"footer\">\n            <label>@copyright</label>\n        </div>\n    )\n}\nexport default Footer;","import history from './history';\n\nconst STORIES_LIST = '/stories-list';\n\nconst redirect = (path, state) => {\n    history.push(path, state);\n}\n\nexport default {\n    redirect: redirect,\n    STORIES_LIST: STORIES_LIST,\n\n\n}\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Header from '../components/Header';\nimport MainContent from '../components/Content';\nimport Footer from '../components/Footer';\nimport RoutePath from '../../route';\nimport history from '../../route/history';\nimport { getSearchResults } from '../../store/actions/StoriesListAction';\n\nimport '../styles/index.scss';\nimport 'antd/dist/antd.css';\n\nlet unlisten;\nclass Shell extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { currentPage: history.location.pathname }\n    }\n\n    componentWillReceiveProps(nextProps) {\n\n        if (this.props.searchResults !== nextProps.searchResults) {\n            this.setState({ isSearch: true, searchResults: nextProps.searchResults.hits })\n        }\n\n    }\n\n    onSearchText = (text, tag = \"story\") => {\n        if (text.length > 0) {\n            this.props.getSearchResults(text, tag);\n            this.setState({searchText: text})\n        }\n        else {\n            this.setState({ isSearch: false, searchText: '',searchResults : null });\n        }\n\n    }\n    render() {\n        return (<div className=\"shell\">\n            <Header cartItems={this.props.cartItems} onSearchText={this.onSearchText}\n                showCart={this.state.currentPage.match(RoutePath.SHOPPING_LIST)} />\n            <div className=\"main_content\">\n                <MainContent searchResults={this.state.searchResults}\n                    isSearch={this.state.isSearch} searchText={this.state.searchText} />\n            </div>\n            <Footer />\n        </div >)\n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n        searchResults: state.storiesListReducer && state.storiesListReducer.searchResults\n    }\n}\nexport default connect(mapStateToProps, { getSearchResults })(Shell);"],"sourceRoot":""}